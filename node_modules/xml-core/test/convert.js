"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert = require("assert");
const _1 = require("../");
describe("Convert", () => {
    it("DateTime", () => {
        const date = new Date();
        const str = _1.Convert.FromDateTime(date);
        assert.equal(str.length > 0, true);
        const newDate = _1.Convert.ToDateTime(str);
        assert.equal(newDate.getTime(), date.getTime());
    });
    ["utf8", "binary", "hex", "base64", "base64url"].forEach((enc) => {
        [
            new Uint8Array([1, 2, 3, 4, 5, 6, 7, 8, 9]),
            _1.Convert.FromString("Привет", "utf8"),
            _1.Convert.FromString("123456789", "binary"),
            _1.Convert.FromString("010203040506070809", "hex"),
            _1.Convert.FromString("Awa=", "base64"),
            _1.Convert.FromString("Aw_=", "base64url"),
        ].forEach((buf, index) => {
            it(`Encoding ${enc} buf:${_1.Convert.ToString(buf, enc)}`, () => {
                const str = _1.Convert.ToString(buf, enc);
                assert.equal(typeof str, "string");
                const newBuf = _1.Convert.FromString(str, enc);
                assert.equal(buf.every((c, i) => c === newBuf[i]), true);
            });
        });
    });
});
